/*
 * Control_Car_Using_Bluetooth.c
 *
 *  Created on: Dec 15, 2024
 *      Author: Muhammed Ayman
 */

#include "../HAL/motor.h"
#include "../MCAL/uart.h"
#include "../Standard_Types/standard_types.h"
#include <stdlib.h>

int main(void)
{

	DcMotor_Init();

	UART_ConfigType uart_configratoin = {9600, UART_Parity_NONE, UART_STOP_1_BIT, MODE_EIGHT_BIT};
	UART_init(&uart_configratoin);

	while(1)
	{
		uint8 direction = UART_receiveByte();

		if (direction == 'F')
		{
			DcMotor_Rotate(CW, (UART_receiveByte() - '0') * 25);
		}
		else if(direction == 'B')
		{
			DcMotor_Rotate(CCW, (UART_receiveByte() - '0') * 25);
		}
		else if(direction == 'S')
		{
			DcMotor_Rotate(STOP, MOTOR_STOP);
		}
		else
		{

		}
	}
	return 0;
}
