/******************************************************************************
 * Module       : DC Motor
 * File Name    : motor.h
 * Author       : A7la Team :)
 * Created on   : 11/11/2024
 * Description  : Header file for the DC Motor AVR driver
 *******************************************************************************/
#ifndef HAL_MOTOR_H_
#define HAL_MOTOR_H_

#include "../../LIB/std_types.h"

/*******************************************************************************
 *                                Configurations                               *
 *******************************************************************************/
#define DELAY_MOTOR					(0)
#define MOTOR_STOP                  (0)   // Motor stop speed
#define MOTOR_MINIMUM_SPEED         (25)  // Motor minimum speed
#define MOTOR_SECOND_SPEED          (50)  // Motor second speed level
#define MOTOR_THIRD_SPEED           (75)  // Motor third speed level
#define MOTOR_MAX_SPEED             (100) // Motor maximum speed

#define MOTOR_SPEED_ONE             (70)  // Motor first speed
#define MOTOR_SPEED_TWO             (85)  // Motor second speed

#define MOTOR_PORT_CONNECTION       PORTC_ID  // Motor port connection
#define PIN_INT1                    PIN4_ID   // Motor pin INT1
#define PIN_INT2                    PIN5_ID   // Motor pin INT2
#define PIN_INT3                    PIN6_ID   // Motor pin INT3
#define PIN_INT4                    PIN7_ID   // Motor pin INT4

#define ENABLE1_PORT_CONNECTION     PORTB_ID  // Enable port connection for motor 1
#define ENABLE1_PIN                 PIN3_ID   // Enable pin for motor 1

#define ENABLE2_PORT_CONNECTION     PORTD_ID  // Enable port connection for motor 2
#define ENABLE2_PIN                 PIN7_ID   // Enable pin for motor 2

/*******************************************************************************
 *                               Types Declaration                             *
 *******************************************************************************/
typedef enum
{
    STOP, CW, CCW  // Motor states: Stop, Clockwise, Counter-Clockwise
} DcMotor_State;

/*******************************************************************************
 *                        Functions Prototypes                                 *
 *******************************************************************************/

/*
 * Function to initialize DC motor.
 */
void DcMotor_Init(uint8 MAXSPEED);

/*
 * Function to rotate the motor.
 * Rotate in CW or CCW or STOP the motor.
 * Control the motor speed using PWM.
 */
void DcMotor_Rotate(DcMotor_State state, uint8 speed);

/* Function to move the car forward */
void Forward(void);

/* Function to move the car backward */
void Backward(void);

/* Function to stop the car */
void Stop(void);

/* Function to turn the car right while moving forward */
void Right_Forward(void);

/* Function to turn the car left while moving forward */
void Left_Forward(void);

/* Function to turn the car right while moving Backward */
void Right_Backward(void);

/* Function to turn the car left while moving Backward */
void Left_Backward(void);

#endif /* HAL_MOTOR_H_ */
